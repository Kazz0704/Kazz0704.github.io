<!DOCTYPE html>
<html>
    <head>
        <title>Lab</title>
    </head>

    <body>
        <div id="top">
            <form>
                <input id="roll" type="button" class="button" value="Roll Dice">
            </form>
        </div>

        <div id="mid"></div>

        <div id="bottom">
            <table class="table">

                <thead>
                    <tr>
                        <th>Face</th>
                        <th>Frequency</th>
                        <th>Percent</th>
                    </tr>
                </thead>

                <tbody>
                    <tr>
                        <td>1</td>
                        <td id="freq1">0</td>
                        <td id="percent1">0</td>
                    </tr>
                    <tr>
                        <td>2</td>
                        <td id="freq2">0</td>
                        <td id="percent2">0</td>
                    </tr>
                    <tr>
                        <td>3</td>
                        <td id="freq3">0</td>
                        <td id="percent3">0</td>
                    </tr>
                    <tr>
                        <td>4</td>
                        <td id="freq4">0</td>
                        <td id="percent4">0</td>
                    </tr>
                    <tr>
                        <td>5</td>
                        <td id="freq5">0</td>
                        <td id="percent5">0</td>
                    </tr>
                    <tr>
                        <td>6</td>
                        <td id="freq6">0</td>
                        <td id="percent6">0</td>
                    </tr>
                </tbody>

            </table>
        </div>

        <script>

            window.addEventListener("load", start);
            var dies = [];
            var total=0;
            var times = ["none",0,0,0,0,0,0];

            function update(){
                for (let index = 1; index < times.length; index++) {
                    var time = times[index];
                    var percent = time/total;

                    document.getElementById('freq'+index).innerHTML = time;
                    document.getElementById('percent'+index).innerHTML = percent.toFixed(2);
                }
            }

            function rollDice(){
                dies.forEach(d => {
                    setImg(d);
                });
                update();
            }

            function start(){
                var button = document.getElementById("roll");
                button.addEventListener("click", rollDice);

                for (let index = 1; index <= 12; index++){
                    var img = document.createElement("img");
                    img.id="die"+index;
                    img.src = "die"+1+".png";
                    dies.push(img);
                    document.getElementById("mid").appendChild(img);
                }
            }

            function setImg(img){
                var num = Math.floor(1+Math.random()*6);

                img.setAttribute("src", "die"+num+".png");
                times[num]+=1;
                total+=1;
            }

        </script>

    </body>
</html>